server {
    listen      80 default_server;
    
    # logging
    access_log  /var/log/nginx/vote.medunions.tw.access.log;
    error_log   /var/log/nginx/vote.medunions.tw.error.log warn;

    # reverse proxy
    location /test {
        proxy_pass http://backend-service:5000;
    }

    location /admin {
        root        /usr/share/nginx/html;
        try_files   $uri $uri/index.html /admin/index.html;
    }

    # index.html fallback
    location / {
        root        /usr/share/nginx/html;
        try_files   $uri $uri/index.html /index.html;
    }
}
